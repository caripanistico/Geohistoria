{"version":3,"sources":["static/storage.js","components/Boton.js","components/Botones.js","components/Mapa.js","components/Imagenes.js","components/Info.js","components/DateRangeFilter.js","components/MenuItems.js","components/Navbar.js","components/Ingreso.js","App.js","index.js"],"names":["URL_BACKEND","Boton","x","y","left","top","hecho","this","props","to","className","id","_id","type","style","onClick","mostrarHecho","bind","title","Component","Botones","Mapa","height","center","lat","Number","lng","zoom","hechos","map","e","defaultProps","Imagenes","state","selectedImg","images","img","setState","src","alt","index","border","setSelectedImg","info","a","console","log","charSet","httpEquiv","content","name","href","rel","class","nimage1","imagenes","texto","crossOrigin","DateRangeFilter","onChange","date1","date2","useState","startDate","Date","endDate","key","ranges","selection","showSelectionPreview","moveRangeOnFirstSelection","months","direction","minDate","maxDate","MenuItems","url","cName","commune","Navbar","clicked","handleClick","item","setLat","setLng","setCommune","axios","require","default","initialState","titleError","descriptionError","yearError","communeError","imagenError","hayfotos","Ingreso","validate","description","year","swal","handleChange","handleSubmit","handleEdit","maps","addListener","evt","preventDefault","imagenes_data","FormData","document","querySelector","files","file_extension","split","pop","aux","slice","size","new_img_name","now","Math","random","toString","substr","new_img","File","append","post","headers","response","imagenes_names","data","form_data","latLng","pin","setPosition","marker","Marker","position","setMap","undefined","event","target","value","conv","isNaN","onSubmit","color","for","multiple","marginLeft","width","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","handleLoaded","autocomplete","placeholder","onBlur","textAlign","exact","path","render","App","obtener_puntos","ocultarHecho","params","get","concat","onChange_Dates","getFullYear","alert","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9ff3d888.chunk.js","sourcesContent":["export const URL_BACKEND = 'https://geohistoria.herokuapp.com/'\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n// import './styles/home.css';\r\n\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Boton extends Component {\r\n\r\n  style(x, y){\r\n\r\n    return {\r\n      left: x,\r\n      top: y\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n\r\n    const {hecho}= this.props;\r\n    return <div>\r\n      <Link to=\"/hecho\">\r\n        <span className='tooltiptext'>\r\n          <button id ={hecho._id} type=\"button\" className=\"botonm\" style={this.style(0 ,0)} onClick={this.props.mostrarHecho.bind(this, hecho)}>\r\n            <span className='tooltiptext'>{hecho.title}</span>\r\n          </button>\r\n        </span>\r\n      </Link>\r\n        \r\n        \r\n      </div>\r\n  }\r\n\r\n\r\n}\r\n\r\nBoton.propTypes = {\r\n    boton: PropTypes.object.isRequired\r\n}\r\n\r\n\r\nexport default Boton;","import React, {Component} from 'react';\r\n\r\nimport Boton from './Boton';\r\n\r\n//import PropTypes from 'prop-types';\r\n\r\nclass Botones extends Component {\r\n    constructor(props){\r\n        if(props!=null)\r\n            super(props)\r\n    }\r\n    render(){\t\t\t\r\n        return (<Boton \r\n                hecho={this.props.hecho} \r\n                key={this.props.hecho._id}\r\n                mostrarHecho={this.props.mostrarHecho}\r\n            />)\r\n    }\r\n}\r\n\r\n/*Botones.propTypes = {\r\n    //botones: PropTypes.array.isRequired\r\n}*/\r\n\r\nexport default Botones;","import React, {Component} from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport Botones from './Botones'\r\n\r\nclass Mapa extends Component {\r\n\r\n  static defaultProps={\r\n    center: {\r\n      lat: -36.8260421,\r\n      lng: -73.0330456\r\n    },\r\n    zoom: 12\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      // Important! Always set the container height explicitly\r\n      <div style={{ height: '100vh' }}>\r\n        <GoogleMapReact\r\n          //bootstrapURLKeys={{ key: null }}\r\n          //defaultCenter={this.props.center}\r\n          center={{lat:Number(this.props.lat), \r\n                  lng:Number(this.props.lng)}}\r\n          zoom={this.props.zoom}\r\n          //onClick={console.log(this.props.lat), console.log(this.props.center)}\r\n        >\r\n          {this.props.hechos.map(e=>\r\n          <Botones\r\n            id={e._id}\r\n            lat={e.x}\r\n            lng={e.y}\r\n            hecho = {e}\r\n\t\t\t\t\t\tmostrarHecho= {this.props.mostrarHecho}\r\n          />)\r\n          }\r\n        </GoogleMapReact>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Mapa;","import React, { Component } from 'react';\r\nimport { URL_BACKEND } from '../static/storage.js';\r\n\r\n\r\nexport default class Imagenes extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selectedImg: props.images[0],\r\n            images: props.images\r\n        }\r\n   }\r\n\r\n    setSelectedImg(img){\r\n        this.setState({selectedImg: img})\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"Imagenes\">\r\n                <div className=\"container\">\r\n                    <img src={URL_BACKEND + 'imagen?filename=' + this.state.selectedImg} alt=\"Selected\" className=\"selected\" />\r\n                    <div className=\"imgContainer\">\r\n                        { this.state.images.map((img, index) => (\r\n                           <img \r\n                                style={{border: this.state.selectedImg === img ? \"4px solid black\" : \"\"}} \r\n                                key={index} \r\n                                src={URL_BACKEND + 'imagen?filename=' + img} // la source es el endpoint en el back-end!\r\n                                alt=\"imagen\"\r\n                                onClick={() => this.setSelectedImg(img)}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\n\r\nimport Imagenes from './Imagenes';\r\n\r\nexport default class info extends Component {\r\n\r\n    async componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const {hecho}= this.props;\r\n        console.log(hecho)\r\n\r\n        return (\r\n            <Fragment>\r\n            <head>\r\n                <meta charSet=\"UTF-8\"/>\r\n                <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\"/>\r\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n                <title>Archivo</title>\r\n                <link href=\"https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&display=swap\" rel=\"stylesheet\"/> \r\n                <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.css\"/> \r\n                <link rel=\"stylesheet\" href=\"styles/home.css\"/>\r\n            </head>\r\n            <div>\r\n                <section class=\"seccion\">\r\n                    <h1>{hecho.nimage1}</h1>\r\n                </section>\r\n                <Imagenes images={hecho.imagenes}/>\r\n                {/*<section class=\"seccion\">\r\n                    <h1>{hecho.nimage1}</h1>\r\n                    <img src={img1}/>\r\n\r\n                    <div class=\"carousel\">\r\n                        <div class=\"carousel__contenedor\">\r\n                    \r\n                            <div class=\"carousel__lista\">\r\n                                <div class=\"carousel__elemento\">\r\n                                    <img src={img2}/>\r\n                                </div>\r\n                                <div class=\"carousel__elemento\">\r\n                                    <img src={img3}/>\r\n                                </div>\r\n                                <div class=\"carousel__elemento\">\r\n                                    <img src={img4}/>\r\n                                </div>\r\n                                <div class=\"carousel__elemento\">\r\n                                    <img src={img5}/>\r\n                                </div>\r\n                                <div class=\"carousel__elemento\">\r\n                                    <img src={img6}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                \r\n                </section>*/}\r\n                <aside class=\"columna\">\r\n                    <h1 id={'title'} >{hecho.title}</h1>\r\n                    <div>\r\n                        <p>{hecho.texto}</p>\r\n                    </div>\r\n{/*                    <h1>Tags</h1>*/}\r\n                </aside>\r\n                <footer class=\"pie\">\r\n                </footer>\r\n                <script src=\"https://kit.fontawesome.com/2c36e9b7b1.js\" crossOrigin=\"anonymous\"></script>\r\n                <script src=\"https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.js\"></script> \r\n                <script src=\"app.js\"></script>\r\n            </div>\r\n        </Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport 'react-date-range/dist/styles.css'; // main style file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\n\r\nimport { DateRangePicker } from 'react-date-range';\r\n\r\n//import { addDays, subDays } from 'date-fns';\r\nimport { useState } from 'react';\r\n\r\n\r\nconst DateRangeFilter = ({ onChange, date1, date2 }) => {\r\n    const [state, setState] = useState([\r\n      {\r\n        startDate: new Date(date1,0,1),\r\n        endDate: new Date(date2,11,31),\r\n        key: \"selection\"\r\n      }\r\n    ]);\r\n  \r\n    const handleOnChange = ranges => {\r\n      const { selection } = ranges;\r\n      onChange(selection);\r\n      setState([selection]);\r\n    };\r\n  \r\n    return (\r\n      <DateRangePicker\r\n        onChange={handleOnChange}\r\n        showSelectionPreview={true}\r\n        moveRangeOnFirstSelection={false}\r\n        months={2}\r\n        ranges={state}\r\n        direction=\"horizontal\"\r\n        minDate={new Date(1800, 0, 1)}\r\n        maxDate={new Date(2040, 11, 31)}\r\n      />\r\n    );\r\n  };\r\n  \r\n  DateRangeFilter.propTypes = {\r\n    onChange: PropTypes.func\r\n  };\r\n  \r\n  export default DateRangeFilter;","export const MenuItems = [\r\n    {\r\n        title: 'Concepción',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'concepcion',\r\n        lat: '-36.8260421',\r\n        lng: '-73.0330456'\r\n    },\r\n    {\r\n        title: 'Talcahuano',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'talcahuano',\r\n        lat: '-36.7305321',\r\n        lng: '-73.1070265'\r\n    },\r\n    {\r\n        title: 'Penco',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'penco',\r\n        lat: '-36.7379755',\r\n        lng: '-72.9940383'\r\n    },\r\n    {\r\n        title: 'Tomé',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'tome',\r\n        lat: '-36.6181695',\r\n        lng: '-72.9552698'\r\n    },\r\n    {\r\n        title: 'Florida',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'florida',\r\n        lat: '-36.816667',\r\n        lng: '-72.666667'\r\n    },\r\n    {\r\n        title: 'Hualpén',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'hualpen',\r\n        lat: '-36.783333',\r\n        lng: '-73.083333'\r\n    },\r\n    {\r\n        title: 'Hualqui',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'hualqui',\r\n        lat: '-36.9759',\r\n        lng: '-72.9384'\r\n\r\n    },\r\n    {\r\n        title: 'Santa Juana',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'santajuana',\r\n        lat: '-37.166667',\r\n        lng: '-72.933333'\r\n    },\r\n    {\r\n        title: 'Lota',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'lota',\r\n        lat: '-37.0944',\r\n        lng: '-73.1563'\r\n    },\r\n    {\r\n        title: 'Coronel',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'coronel',\r\n        lat: '-37.016667',\r\n        lng: '-73.133333'\r\n    },\r\n    {\r\n        title: 'San Pedro de la Paz',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'sanpedrodelapaz',\r\n        lat: '-36.84082',\r\n        lng: '-73.10311'\r\n    },\r\n    {\r\n        title: 'Chiguayante',\r\n        url: '#',\r\n        cName: 'nav-links',\r\n        commune: 'chiguayante',\r\n        lat: '-36.916667',\r\n        lng: '-73.016667'\r\n    }\r\n    //{\r\n    //    title: 'Sign up',\r\n    //    url: '#',\r\n    //    cName: 'nav-links-mobile'\r\n    //}\r\n]","import React, {Component} from 'react';\r\nimport {MenuItems} from \"./MenuItems\"\r\nimport'./Navbar.css'\r\nimport {Link} from \"react-router-dom\";\r\nimport './styles/styles.css'\r\n\r\nclass Navbar extends Component{\r\n    state ={clicked:false}\r\n\r\n    handleClick=()=>{\r\n        this.setState({clicked: !this.state.clicked})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <nav className=\"NavbarItems\">\r\n                <h1 className=\"navbar-logo\">Geohistoria<i className=\"fab fa-react\"></i></h1>\r\n\r\n                <div className=\"menu-icon\" onClick={this.handleClick}>\r\n                    <i className={this.state.clicked ? 'fas fa-times' : 'fas fa-bars'}></i>\r\n                </div>\r\n                <ul className={this.state.clicked ? 'nav-menu active' : 'nav-menu'}>\r\n                    {MenuItems.map((item, index)=>{\r\n                        return(\r\n                            <li key={index}>\r\n                                <a className={item.cName} onClick={()=>{\r\n                                    this.props.setLat(item.lat);\r\n                                    this.props.setLng(item.lng);\r\n                                    this.props.setCommune(item.commune);\r\n                                    //console.log(this.props.lat)\r\n                                }}>\r\n                                    {item.title}\r\n                                </a>\r\n                            </li>\r\n                        )\r\n                    })} \r\n                </ul>\r\n                <Link to=\"/ingreso\">\r\n                    <button type=\"button\" className=\"botoni\">\r\n                        Ingresar hecho\r\n                    </button>\r\n                </Link>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar","import React, {Component, Fragment} from 'react';\r\nimport FormData from 'form-data';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport { URL_BACKEND } from '../static/storage.js';\r\n\r\nconst axios = require('axios').default;\r\n\r\n//restablecer error\r\nconst initialState = {\r\n  titleError: \"\",\r\n  descriptionError: \"\",\r\n  yearError: \"\",\r\n  communeError: \"\",\r\n  imagenError: \"\",\r\n  hayfotos: false\r\n}\r\n\r\n\r\nclass Ingreso extends Component {\r\n  pin;\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      lat: -36.8260421,\r\n      lng: -73.0330456,\r\n      titleError: \"\",\r\n      descriptionError: \"\",\r\n      yearError: \"\",\r\n      communeError: \"\",\r\n      imagenError: \"\",\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n  }\r\n\r\n    handleLoaded(map, maps){\r\n      map.addListener('click', (e)=>this.handleClick(e, map, maps), false);\r\n      //map.addListener('dragend', ()=>{console.log(this.pin)}, false);\r\n    }\r\n    \r\n\r\n    validate = () =>{\r\n      let titleError = \"\";\r\n      let descriptionError = \"\";\r\n      let yearError = \"\";\r\n      let communeError = \"\";\r\n      let imagenError = \"\";\r\n\r\n      if(!this.state.title){titleError='Este campo es obligatorio.';}\r\n      if(!this.state.description){descriptionError='Este campo es obligatorio.';}\r\n      if(!this.state.year){yearError='Este campo es obligatorio.';\r\n      }else{\r\n        if(!Number(this.state.year)){yearError='Ingrese un número válido.';}\r\n      } \r\n      if(this.state.year>2021 || this.state.year<0){yearError='Año inválido.';}      \r\n      if(!this.state.commune){communeError='Este campo es obligatorio.';}      \r\n      if(!this.hayfotos){imagenError='Este campo es obligatorio.';}\r\n      if(titleError || descriptionError || yearError || communeError || imagenError){\r\n        this.setState({titleError});\r\n        this.setState({descriptionError});\r\n        this.setState({yearError});\r\n        this.setState({communeError});\r\n        this.setState({imagenError});\r\n        return false;\r\n      }\r\n      if(this.state.title && this.state.description && this.state.year && this.state.commune && this.hayfotos){\r\n        swal(\"Hecho publicado correctamente\");\r\n      }\r\n      return true;\r\n    }\r\n\r\n\r\n  // usada para hacer submit de la form\r\n  async handleSubmit(evt){\r\n    evt.preventDefault();\r\n\r\n    //***validar input */\r\n    const isValid = this.validate();\r\n    if(isValid){\r\n      this.setState(initialState);\r\n    }\r\n    \r\n    console.log(this.state);\r\n\r\n    // *** construir formdata para imagenes\r\n    const imagenes_data = new FormData();\r\n    const imagenes = document.querySelector('#imagenes');\r\n\r\n    for (let img of imagenes.files){\r\n      // changing img name\r\n      const file_extension = img.name.split('.').pop()\r\n      const aux = img.slice(0, img.size, 'image/png');\r\n      const new_img_name = Date.now() + Math.random().toString(20).substr(2, 6) + '.' + file_extension\r\n      const new_img = new File([aux], new_img_name, {type: 'image/png'})\r\n      \r\n      //error de foto\r\n      this.hayfotos = true;\r\n      let imagenError = \"\";\r\n      this.setState({imagenError});\r\n\r\n      console.log(new_img_name, new_img)\r\n      imagenes_data.append(new_img_name, new_img)\r\n    }\r\n\r\n    // 1. Enviar imagenes del punto\r\n    let response = await axios.post(URL_BACKEND + 'add-image', imagenes_data,\r\n      {headers:{'Content-Type':'multipart/form-data'}});\r\n\r\n    // *** construir formdata para datos punto\r\n    const imagenes_names = response.data['imagenes']\r\n    const form_data = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      form_data.append(key, this.state[key]);\r\n    }\r\n\r\n    form_data.append('imagenes', imagenes_names)\r\n\r\n    // 2. Enviar data del punto\r\n    response = await axios.post(URL_BACKEND + 'add-point', form_data)\r\n    console.log(response)\r\n  }\r\n\r\n  // usada en mapa\r\n  handleClick(evt, map, maps){\r\n    //console.log(typeof(this.pin));\r\n    var lat = evt.latLng.lat(), lng = evt.latLng.lng();\r\n    //console.log({lat, lng});\r\n    //console.log(this.state.lat,this.state.lng);\r\n    this.setLat(lat);\r\n    this.setLng(lng);\r\n    \r\n    if(!this.pin){\r\n      let marker = new maps.Marker({\r\n        position: evt.latLng,\r\n        map,\r\n        title: \"Click to remove\"\r\n      });\r\n      marker.addListener('click', ()=>{marker.setMap(null); this.pin = undefined;}, false)\r\n      this.pin = marker;\r\n    }\r\n    else{\r\n      this.pin.setPosition(evt.latLng)\r\n    }\r\n  }\r\n\r\n  // usada para almacenar cambios del input en state --> refleja cambios en el mapa\r\n  // ignora input si esta vacio\r\n  // los inputs se copian al state una vez que el input pierde el focus (onBlur)\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    const conv = Number(value);\r\n    if(value === \"\" && (name===\"lat\" || name ===\"lng\")) return;\r\n\r\n    if(name === \"lat\"){\r\n      if(!isNaN(conv) && conv !== this.state.lat ){\r\n        this.setLat(conv)\r\n      }\r\n    }\r\n    else if (name === \"lng\"){\r\n      if(!isNaN(conv) && conv !== this.state.lng ) {\r\n        this.setLng(conv);\r\n      }\r\n    }\r\n    else this.setState({[name]: value});\r\n    // console.log(this.state)\r\n    if(target.name === \"lat\" || target.name === \"lng\")\r\n      target.value = \"\";\r\n    //console.log(\"state updated!\")\r\n}\r\n\r\n  setLat = (lat) => {\r\n    this.setState({lat: lat})\r\n  }\r\n\r\n  setLng = (lng) => {\r\n    this.setState({lng: lng})\r\n  }\r\n\r\n// en caso de querer editar la lat o lng, se copia el que esta en el state al input\r\nhandleEdit(evt){\r\n  if(evt.target.name === \"lat\")\r\n    evt.target.value = this.state.lat;\r\n  else evt.target.value = this.state.lng;\r\n}\r\n\r\n  componentDidMount(){\r\n    //\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='fondoo'>\r\n      <Fragment>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <header className=\"header\">\r\n            <h1 style={{color:'white'}}>FORMULARIO DE COLABORACIÓN</h1>\r\n          </header>\r\n    \r\n          <section className=\"seccion2\">\r\n\r\n            {/*IMAGENES*/}\r\n            <p>\r\n              <label className=\"label\" for=\"imagenes\">Imagenes: </label>\r\n              <input style={{border:'none'}} className=\"input\" type=\"file\" name=\"imagenes\" id=\"imagenes\" multiple/>\r\n              <div style={{marginLeft:'20px'}} className=\"error\"> \r\n                {this.state.imagenError ? (<i class=\"fas fa-exclamation-circle\"></i>) : null} \r\n                {this.state.imagenError}</div>            \r\n              </p>\r\n\r\n            <div style={{ height: '40vh', width: '98%', marginLeft:'10px' }}>\r\n              <GoogleMapReact\r\n                //bootstrapURLKeys={{ key: null }}\r\n               //defaultCenter={this.props.center}\r\n                yesIWantToUseGoogleMapApiInternals\r\n                onGoogleApiLoaded={({map, maps})=>this.handleLoaded(map, maps)}\r\n                center={\r\n                  {\r\n                    lat:Number(this.state.lat), \r\n                    lng:Number(this.state.lng)\r\n                  }\r\n                }\r\n                zoom={11}\r\n        //onClick={(event)=>this.handleClick(event)}\r\n              />\r\n            </div>\r\n            <div className=\"LatLong\">\r\n              <p>\r\n                <label className=\"label\" for=\"lat\">Latitud:</label>\r\n                <input className=\"input\" type=\"text\" name=\"lat\" id=\"formLat\" autocomplete=\"off\" placeholder={this.state.lat} onClick={this.handleEdit} onBlur={this.handleChange}></input>\r\n              </p>\r\n              <p>\r\n                <label className=\"label\" for=\"lng\">Longitud:</label>\r\n                <input className=\"input\" type=\"text\" name=\"lng\" id=\"formLng\" autocomplete=\"off\" placeholder={this.state.lng} onClick={this.handleEdit} onBlur={this.handleChange}></input>\r\n              </p>\r\n            </div>\r\n            <p className=\"aviso\">\r\n              <i class=\"fas fa-exclamation-triangle\"></i>\r\n              Procura seleccionar una ubicación en el mapa. de lo contrario el hecho se posicionará por defecto en el centro de Concepción.\r\n            </p>\r\n\r\n\r\n          </section>\r\n          \r\n          <aside className=\"columna2\">\r\n            <div className=\"LatLong\" style={{marginLeft:'-40px', textAlign:'center'}}>\r\n              <Route exact path=\"/ingreso\" render={() => {\r\n                return <div>\r\n                    <Link to=\"/\">\r\n                      <button type=\"button\" className=\"botonv2\">\r\n                        Volver\r\n                      </button>\r\n                    </Link>\r\n                    <input className=\"botonSubmit\" value=\"Submit\" type=\"submit\"></input>\r\n                </div>\r\n              }}></Route>\r\n            </div>\r\n            \r\n            <p>\r\n              <label className=\"label\" for=\"title\">Título:</label>\r\n              <input className=\"input\" type=\"text\" name=\"title\" id=\"title\" onBlur={this.handleChange}></input>\r\n              <div className=\"error\"> \r\n                {this.state.titleError ? (<i class=\"fas fa-exclamation-circle\"></i>) : null} \r\n                {this.state.titleError}\r\n              </div>\r\n            </p>\r\n            <p>\r\n              <label className=\"label\" for=\"description\">Descripción:</label>\r\n              <textarea className=\"textarea\" type=\"text\" name=\"description\" id=\"description\" onBlur={this.handleChange}></textarea>\r\n              <div className=\"error\"> \r\n                {this.state.descriptionError ? (<i class=\"fas fa-exclamation-circle\"></i>) : null}\r\n                {this.state.descriptionError}\r\n              </div>\r\n\r\n            </p>\r\n            <div className=\"LatLong\" style={{width:'95%'}}>\r\n              <p>\r\n                <label className=\"label\" for=\"year\">Año:</label>\r\n                <input className=\"input\" type=\"text\" name=\"year\" id=\"year\" onBlur={this.handleChange}></input>\r\n                <div className=\"error\"> \r\n                  {this.state.yearError ? (<i class=\"fas fa-exclamation-circle\"></i>) : null} \r\n                  {this.state.yearError}\r\n                </div>\r\n              </p>\r\n              <p>\r\n                <label className=\"label\" for=\"commune\">Comuna:</label>\r\n                <input className=\"input\" type=\"text\" name=\"commune\" id=\"commune\" onBlur={this.handleChange}></input>\r\n                <div className=\"error\"> \r\n                  {this.state.communeError ? (<i class=\"fas fa-exclamation-circle\"></i>) : null} \r\n                  {this.state.communeError}\r\n                </div>\r\n              </p>\r\n            </div>\r\n            \r\n          </aside>\r\n        </form>     \r\n    </Fragment>\r\n    </div>\r\n  );\r\n  }  \r\n}\r\n\r\nexport default Ingreso;\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { URL_BACKEND } from \"./static/storage.js\";\r\n\r\n//Components:\r\nimport Mapa from \"./components/Mapa\";\r\nimport Info from \"./components/Info\";\r\nimport DateRangeFilter from \"./components/DateRangeFilter\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport Ingreso from \"./components/Ingreso\";\r\n\r\n// import de estilos, EL UNICO!!\r\nimport \"./components/styles/styles.css\";\r\n\r\n// importing axios\r\nconst axios = require(\"axios\").default;\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hechos: null,\r\n      hecho: \"\",\r\n      // estos parametros sirven para que al volver desde un hecho al mapa,\r\n      // el mapa siga como estaba antes\r\n      date1: 1900, // valor inicial\r\n      date2: 2000, // valor inicial\r\n      lat: -36.8260421,\r\n      lng: -73.0330456,\r\n      commune: \"concepcion\",\r\n    };\r\n  }\r\n\r\n  setLat = (lat) => {\r\n    this.setState({ lat: lat });\r\n  };\r\n\r\n  setLng = (lng) => {\r\n    this.setState({ lng: lng });\r\n  };\r\n\r\n  setCommune = async (commune) => {\r\n    this.setState({ commune: commune });\r\n    try {\r\n      await this.obtener_puntos(commune, this.state.date1, this.state.date2);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  mostrarHecho = (hecho) => {\r\n    this.setState({ hecho: hecho });\r\n  };\r\n\r\n  ocultarHecho = () => {\r\n    this.setState({ hecho: \"\" });\r\n  };\r\n\r\n  // consulta al back-end por los puntos y actualiza this.state\r\n  obtener_puntos = async (commune, date1, date2) => {\r\n    const params = {\r\n      commune: commune,\r\n      date1: date1,\r\n      date2: date2,\r\n    };\r\n    console.log(params);\r\n    // Obtener puntos en el rango\r\n    const response = await axios.get(URL_BACKEND.concat(\"/date-range\"), {\r\n      params: params,\r\n    });\r\n\r\n    // Cargar nuevos puntos y fechas\r\n    this.setState({\r\n      hechos: response.data,\r\n      date1: date1,\r\n      date2: date2,\r\n    });\r\n    //console.log(this.state.hechos);\r\n  };\r\n\r\n  onChange_Dates = async (ranges) => {\r\n    this.setState({\r\n      date1: ranges.startDate.getFullYear(),\r\n      date2: ranges.endDate.getFullYear(),\r\n    });\r\n    try {\r\n      await this.obtener_puntos(\r\n        this.state.commune,\r\n        ranges.startDate.getFullYear(),\r\n        ranges.endDate.getFullYear()\r\n      );\r\n    } catch (error) {\r\n      alert(\"back-end no responde !!\"); //dev\r\n    }\r\n  };\r\n\r\n  // esta funcion se llama sola luego de que el componente se haya renderizado una vez\r\n  async componentDidMount() {\r\n    // change document title\r\n    document.title = \"GeoHistoria\";\r\n\r\n    // Obtener los puntos\r\n    try {\r\n      await this.obtener_puntos(\r\n        this.state.commune,\r\n        this.state.date1,\r\n        this.state.date2\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // esto evitar errores al renderizar sin datos. (Loading screen)\r\n    if (this.state.hechos == null) {\r\n      return (\r\n        <div>\r\n          <h1> Cargando... </h1>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => {\r\n              return (\r\n                <div id=\"container\">\r\n                  <Navbar\r\n                    setLat={this.setLat}\r\n                    setLng={this.setLng}\r\n                    setCommune={this.setCommune}\r\n                  />\r\n                  <DateRangeFilter\r\n                    date1={this.state.date1}\r\n                    date2={this.state.date2}\r\n                    onChange={this.onChange_Dates}\r\n                  />\r\n                  <Mapa\r\n                    id=\"google_map\"\r\n                    hechos={this.state.hechos}\r\n                    mostrarHecho={this.mostrarHecho}\r\n                    lat={this.state.lat}\r\n                    lng={this.state.lng}\r\n                  />\r\n                </div>\r\n              );\r\n            }}\r\n          ></Route>\r\n\r\n          <Route\r\n            exact\r\n            path=\"/hecho\"\r\n            render={() => {\r\n              return (\r\n                <div>\r\n                  <nav class=\"menu\">\r\n                    <Link to=\"/\">\r\n                      <button type=\"button\" className=\"botonv\">\r\n                        Volver\r\n                      </button>\r\n                    </Link>\r\n                  </nav>\r\n                  <section>\r\n                    <Info hecho={this.state.hecho} />\r\n                  </section>\r\n                </div>\r\n              );\r\n            }}\r\n          ></Route>\r\n\r\n          <Route\r\n            exact\r\n            path=\"/ingreso\"\r\n            render={() => {\r\n              return (\r\n                <Ingreso lat={this.state.lat} lng={this.state.lng}></Ingreso>\r\n              );\r\n            }}\r\n          ></Route>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// MAIN VERSION\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}